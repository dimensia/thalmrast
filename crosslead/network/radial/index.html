<html ng-app="clNetworkTest">
 <head>
  <title>D3 Trial Project</title>
  <link rel="stylesheet" type="text/css" href="public/styles/network.css" media="all" />
  <link href="http://fonts.googleapis.com/css?family=Oxygen:400,300,700" rel="stylesheet" type="text/css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
 </head>
 <body ng-controller="NetworkDemoCtrl"> 

  <div class="header">
  </div>

  <div class="networkContainer" ng-style="{height: height+2+'px'}">
   <div ng-if="nodes">
    <network width="100%" height="{{ height }}" on-load="onLoad(api)" on-click-node="onClickNode(data,i,selected)" nodes="nodes" zoom="zoom" overlays="overlays"></network>

    <div class="btnBar">
     <button class="btn btn-success overlay zoom" ng-click="zoomOut()"><i class="fa fa-minus"></i></button>
     <button class="btn btn-success overlay zoom" ng-click="zoomIn()"><i class="fa fa-plus"></i></button>
     <button class="btn {{ help ? 'btn-success' : '' }} overlay helpBtn" ng-click="help=!help">Help</button>
     <button class="btn overlay editBtn" ng-click="edit=!edit">{{ edit ? 'Edit' : 'View' }}</button>

     <button class="btn {{ communication ? 'btn-success' : '' }} overlay communicationBtn" ng-click="toggleCommunication()">Communication</button>
    </div>

    <div class="panes">
     <div class="editor" ng-show="selected && edit">
      <div class="header">Selected Node</div>
      <div>
       <div>
        <label for="name">Name</label>
        <div class="field"><input id="name" type="text" ng-model="selected.name"></div>
       </div>
       <div>
        <label for="nodeType">Type</label>
        <div class="field"><select id="nodeType" ng-model="selected.type" ng-options="node.name as node.name for node in networkNodeTypes.all"></select></div>
       </div>
       <div ng-show="type !== 'label'">
        <label for="img">Image URL</label>
        <div class="field"><input id="img" type="text" ng-model="selected.img"></div>
       </div>
       <div>
        <label for="fixed">Fixed</label>
        <div class="field"><input id="fixed" type="checkbox" ng-model="selected.fixed"></div>
       </div>
       <div>
        <label for="scale">Scale</label>
        <div class="field"><input id="scale" type="text" ng-model="selected.scale"></div>
       </div>
       <div class="buttons" ng-show="type !== 'label'">
        <button class="btn btn-success btn-xs" ng-click="addNode()">Add Node</button>
        <button class="btn btn-danger btn-xs" ng-click="removeNode()">Remove Node</button>
       </div>
      </div>
     </div>

     <div class="card" ng-show="selected && !edit">
      <div class="header">{{ selected.name }}</div>
      <img ng-show="selected.img" ng-src="{{selected.img}}">
      <div>
       <div>
        <label>Position</label>
        <div class="field">{{ selected.position }}</div>
       </div>
       <div>
        <label>Profession</label>
        <div class="field">{{ selected.profession }}</div>
       </div>
       <div>
        <label>Company</label>
        <div class="field">{{ selected.company }}</div>
       </div>
       <div>
        <label>Business Unit</label>
        <div class="field">{{ selected.businessUnit }}</div>
       </div>
       <div>
        <label>Department</label>
        <div class="field">{{ selected.department }}</div>
       </div>
       <div>
        <label>Group</label>
        <div class="field">{{ selected.employeeGroup }}</div>
       </div>
       <div>
        <label>Hire Date</label>
        <div class="field">{{ selected.hireDate }}</div>
       </div>
       <div>
        <label>Location</label>
        <div class="field">{{ selected.location }}</div>
       </div>
      </div>
     </div>

     <div class="help" ng-show="help">
      <div class="header">Help</div>
      <ul>
       <li>Click to select
       <li>Drag to move nodes and pan, scrollwheel to zoom
       <li>Shift+Click and/or Shift-drag to select multiple nodes
      </ul>
      <button class="btn btn-success fix" ng-click="fixAll()">Fix Nodes</button>
      <button class="btn btn-success free" ng-click="freeAll()">Free Nodes</button>
     </div>
    </div>

   </div>
  </div>


  <script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.13/angular.min.js"></script>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="test/client/mock/network/networkData.js" charset="utf-8"></script>
  <script src="app/scripts/directives/network.js" charset="utf-8"></script>
  <script src="app/scripts/directives/networkOverlay.js" charset="utf-8"></script>
  <script src="app/scripts/services/palantir.js" charset="utf-8"></script>
  <script src="demo.js" charset="utf-8"></script>
 </body>
</html>
